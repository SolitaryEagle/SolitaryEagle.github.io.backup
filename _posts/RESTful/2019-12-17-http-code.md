---
layout: post
title: Http Code
category: RESTful API
tags: RESTful API
---
# 客户端错误 4xx
状态码4xx类用于客户端似乎已出错的情况。除响应HEAD请求外，服务器应包含一个实体，该实体包含错误情况的说明以及它是暂时还是永久的情况。这些状态代码适用于任何请求方法。用户代理应该向用户显示任何包含的实体。

如果客户端正在发送数据，则在服务器关闭输入连接之前，使用TCP的服务器实现应小心确保客户端确认包含响应的数据包的接收。如果关闭后客户端继续向服务器发送数据，则服务器的TCP堆栈将向客户端发送重置数据包，这可能会擦除客户端的未确认输入缓冲区，然后HTTP应用程序才能读取和解释它们。

## 400 Bad Request
由于语法格式错误，服务器无法理解该请求。客户不应在没有修改的情况下重复请求。例如，格式错误的请求语法，无效的请求消息框架或欺骗性请求路由

## 401 Unauthorized
该请求需要用户认证。响应必须包括一个WWW-Authenticate头域, 该域包含适用于所请求资源的质询。客户端可以使用合适的Authorization标头字段重复请求. 如果请求已包含授权凭证，则401响应指示已拒绝这些凭证的授权。如果401响应包含与先前响应相同的质询，并且用户代理已经尝试了至少一次身份验证，则应该向用户提供响应中给定的实体，因为该实体可能包括相关的诊断信息。

## 402 Payment Required
需要付款, 状态码保留供将来使用。

## 403 Forbidden
服务器理解了该请求，但拒绝执行该请求。授权将无济于事，不应重复该请求。如果请求方法不是HEAD，并且服务器希望公开为什么未满足请求，则应在实体中描述拒绝原因。如果服务器不希望将此信息提供给客户端，则可以改用状态代码404

## 404 Not Found
服务器未找到与请求URI匹配的任何内容。没有迹象表明这种情况是暂时的还是永久的。如果服务器通过某种内部可配置的机制得知旧资源永久不可用并且没有转发地址，则应使用410（已消失）状态代码。如果服务器不希望确切显示请求被拒绝的原因，或者没有其他响应可应用时，通常使用此状态代码。

## 405 Method Not Allowed
Request-URI所标识的资源不允许使用Request-Line中指定的方法。响应必须包括一个Allow标头，其中包含所请求资源的有效方法列表。

## 406 Not Acceptable
由请求标识的资源仅能够生成响应实体，该响应实体具有根据请求中发送的接受标头不可接受的内容特征。

除非它是HEAD请求，否则响应应包括一个实体，其中包含可用实体特征和位置的列表，用户或用户代理可以从中选择最合适的一个。实体格式由Content-Type标头字段中提供的媒体类型指定。根据用户代理的格式和功能，可以自动执行最合适的选择。但是，该规范没有为这种自动选择定义任何标准。

如果响应是不可接受的，则用户代理应暂时停止接收更多数据，并向用户查询有关进一步操作的决定。

## 407 Proxy Authentication Required
此代码类似于401（未经授权），但表示客户端必须首先使用代理对其进行身份验证。代理务必返回一个Proxy-Authenticate头域. 其中包含适用于所请求资源的代理的质询。客户可以用合适的代理授权头域重复请求。

## 408 Request Timeout
客户端在服务器准备等待的时间内未产生请求。客户端可以在以后的任何时间重复请求而无需修改。

## 409 Conflict
由于与资源的当前状态存在冲突，因此无法完成请求。仅在预期用户可能能够解决冲突并重新提交请求的情况下才允许使用此代码。响应正文应包含足够的内容供用户识别冲突源的信息。理想情况下，响应实体应包括足够的信息供用户或用户代理解决问题。但是，这可能是不可能的，也不是必需的。

响应PUT请求最有可能发生冲突。例如，如果正在使用版本控制，并且正在PUT的实体包括对资源的更改，该更改与先前的（第三方）请求所进行的更改冲突，则服务器可能会使用409响应来指示它无法完成请求。在这种情况下，响应实体可能会以响应Content-Type定义的格式包含两个版本之间差异的列表。

## 410 Gone
请求的资源在服务器上不再可用，并且未知转发地址。可以认为这种情况是永久的。具有链接编辑功能的客户端应在用户批准后删除对Request-URI的引用。如果服务器不知道或没有确定条件是否为永久性的条件，则应改用状态码404（未找到）。除非另有说明，否则此响应是可缓存的。

410响应主要旨在通过通知接收者资源有意不可用以及服务器所有者希望删除指向该资源的远程链接来辅助Web维护任务。对于限时促销服务和属于不再在服务器站点工作的个人的资源来说，这种事件很常见。不必将所有永久不可用的资源标记为“已消失”，也不必将标记保留任何时间-服务器所有者可以自行决定。

## 411 Length Required
服务器拒绝接受没有定义Content-Length的请求。如果客户端在请求消息中添加了包含消息主体长度的有效Content-Length头字段，则客户端可以重复该请求。

## 412 Precondition Failed
在服务器上测试时，在一个或多个请求标头字段中给出的前提条件被评估为false。此响应代码允许客户端在当前资源元信息（标头字段数据）上放置先决条件，从而防止将请求的方法应用于除预定资源以外的其他资源。

## 413 Payload Too Large
服务器拒绝处理请求，因为请求实体大于服务器愿意或能够处理的实体。服务器可以关闭连接，以防止客户端继续请求。

如果条件是临时的，则服务器应包括Retry- After头字段以指示它是临时的，并且客户端可以在什么时间之后重试。

## 414 URI Too Long
服务器拒绝处理请求，因为Request-URI的长度比服务器愿意解释的时间长。仅当客户端将POST请求转换为带有长查询信息的GET请求时，当客户端下降到重定向的URI“黑洞”（例如，指向URI的重定向URI前缀）时，才会发生这种罕见情况后缀），或者当服务器受到客户端的攻击时，客户端试图使用固定长度的缓冲区来读取或操纵Request-URI来利用某些服务器中存在的安全漏洞。

## 415 Unsupported Media Type
服务器拒绝为请求提供服务，因为请求的实体的格式不受请求的方法所请求的资源支持。

## 416 Requested range not satisfiable
如果请求中包含Range请求标头字段, 并且该字段中的range-specifier值均不与所选资源的当前范围重叠，则服务器应返回带有此状态代码的响应。包含If-Range请求标头字段。（对于字节范围，这意味着所有字节范围规范值的第一个字节位置大于所选资源的当前长度。）

当针对字节范围请求返回此状态代码时，响应应包含指定所选择资源的当前长度的Content-Range实体标头字段. 此响应绝对不能使用multipart / byteranges内容类型。

## 417 Expectation Failed
此服务器无法满足在Expect请求标头字段中给出的期望，或者，如果该服务器是代理，则服务器有明确的证据表明下一跳服务器无法满足该请求。

## 422 Unprocessable Entity
422（不可处理实体）状态代码表示服务器了解请求实体的内容类型（因此 415（不受支持的媒体类型）状态码不正确），并且请求实体的语法正确（因此为400（错误请求）状态代码不正确），但无法处理其中的内容说明。例如对于如果XML可能会出现此错误情况请求主体包含格式正确的（即，语法正确的），但是语义错误的XML指令。

## 423 Locked
表示源或目标资源的方法被锁定。此响应应包含适当的前置条件或后置条件代码，例如“已提交锁令牌”或“无冲突锁定”。

## 424 Failed Dependency
表示该方法可以无法在资源上执行，因为请求的操作依赖于另一个操作，该操作失败。例如，如果PROPPATCH方法中的命令失败，然后，至少该命令也将失败并显示424（依赖失败）。

## 428 Precondition Required
原始服务器需要要求有条件。

它的典型用法是避免“丢失更新”问题，即客户端获取资源的状态，对其进行修改，然后将其放回服务器，同时第三方修改了服务器上的状态时，导致冲突。通过要求请求是有条件的，服务器可以确保客户端使用正确的副本。

使用此状态代码的回复应说明如何重新提交请求成功。

## 429 Too Many Requests
表示用户发送了太多在给定的时间内请求（“速率限制”）。

响应表示应包括详细说明条件，并且可以包含一个Retry-After标头，指示多长时间在发出新请求之前等待。

请注意，此规范未定义原始服务器的方式识别用户，也不能识别请求计数。例如，限制请求速率的原始服务器可以基于整个服务器中每个资源的请求数，甚至是一组服务器之间。同样，它可以识别用户通过其身份验证凭据或有状态Cookie。

状态码为429的响应不得由高速缓存存储。

## 431 Request Header Fields Too Large
表示服务器不愿意处理该请求，因为其标头字段太大。请求可能减小请求标头字段的大小后重新提交。

总共两个请求标头字段的集合为太大，并且单个标头字段出现错误时。在后者情况下，响应表示应指定哪个标头字段太大了。

带有431状态代码的响应绝不能由缓存存储。

## 451 Unavailable For Legal Reasons
此状态代码表示服务器正在拒绝访问法律要求的结果。

有问题的服务器可能不是原始服务器。这类法律要求通常最直接影响ISP的运营和搜索引擎。

使用此状态代码的回复应在其中包含说明。法律要求细节的回应机构：当事人制定，适用的法律或法规以及什么类别适用的人员和资源。

451状态代码的使用既不暗示也不存在请求中命名的资源的存在。也就是说，它如果法律要求被删除，则有可能要求资源仍然可能无法成功。

请注意，在许多情况下，客户端仍可以访问被拒绝的资源通过使用VPN或Tor网络等技术对策。

默认情况下，451响应是可缓存的；即，除非另有说明由方法定义或显式缓存控件指示.

# 服务器错误 5xx
以数字“ 5”开头的响应状态代码表示服务器知道服务器已出错或无法执行请求的情况。除响应HEAD请求外，服务器应包含一个实体，该实体包含错误情况的说明以及它是暂时还是永久的情况。用户代理应该向用户显示任何包含的实体。这些响应代码适用于任何请求方法。

## 500 Internal Server Error
服务器遇到意外情况，阻止其满足请求。

## 501 Not Implemented
服务器不支持满足请求所需的功能。当服务器无法识别请求方法并且不支持任何资源时，这是适当的响应。

## 502 Bad Gateway
该服务器在充当网关或代理的同时，从尝试访问该请求的上游服务器接收到无效响应。

## 503 Service Unavailable
由于暂时的服务器过载或维护，服务器当前无法处理该请求。这意味着这是一个暂时性状况，经过一段时间的延迟后会缓解。如果知道的话，延迟的长度可以在Retry-After头中指出。如果没有给出Retry-After，则客户端应该像处理500响应那样处理响应。

注意：503状态代码的存在并不意味着服务器过载时必须使用它。一些服务器可能希望简单地拒绝连接。

## 504 Gateway Timeout
该服务器虽然充当网关或代理，但没有收到来自URI指定的上游服务器（例如HTTP，FTP，LDAP）或尝试完成访问所需访问的某些其他辅助服务器的及时响应。请求。

注意：实施者注意：已知一些已部署的代理DNS查找超时时返回400或500。

## 505 HTTP Version not supported
服务器不支持或拒绝支持请求消息中使用的HTTP协议版本。服务器会指示它无法或不愿意使用与客户端相同的主要版本来完成请求 ，除了此错误消息之外。响应应该包含一个实体，描述为什么不支持该版本以及该服务器支持哪些其他协议。

## 506 Variant Also Negotiates
表示服务器具有内部配置错误：所选的变体资源配置为参与透明的内容协商本身，因此在谈判过程中不是适当的终点。

## 507 Insufficient Storage
表示该方法无法执行由于服务器无法存储而在资源上执行成功完成请求所需的表示形式。这个这种情况被认为是暂时的。如果要求收到此状态码是用户操作的结果，在单独的用户请求之前，不得重复请求行动。

## 508 Loop Detected
表示服务器终止操作，因为它在遇到无限循环时使用“深度：无限”处理请求。此状态指示整个操作失败。

## 509 Bandwidth Limit Exceeded
超出带宽限制.

## 510 Not Extended
尚未满足访问资源的策略请求。服务器应发回所有必要的信息让客户发出扩展请求。它不在范围内规范的规范，以指定扩展如何通知客户。

如果510响应包含有关以下扩展名的信息初始请求中不存在则客户端可以重复请求是否有理由相信它可以完成扩展通过根据提供的信息修改请求来制定策略在510回应中。否则，客户可以提出任何实体510对用户的响应中包含的内容，因为该实体可能包括相关的诊断信息。

## 511 Network Authentication Required
表示客户端需要进行身份验证获得网络访问权限。响应表示应该包含一个指向以下资源的链接：允许用户提交凭据（例如，使用HTML表单）。

请注意，511响应不应包含质询或登录界面本身，因为浏览器会显示登录信息接口与原始请求的URL相关联， 这可能会引起混乱。

原始服务器不应该生成511状态；它是旨在通过拦截作为代理插入的代理来使用控制对网络访问的手段。

状态码为511的响应不得由高速缓存存储。
